# üéØ –û—Ç—á–µ—Ç –ø–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ Live Rates –¥–ª—è –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞ –±–∞–Ω–∫–æ–≤—Å–∫–∏—Ö –≥–∞—Ä–∞–Ω—Ç–∏–π

## ‚úÖ **–°—Ç–∞—Ç—É—Å: –£–°–ü–ï–®–ù–û –ó–ê–í–ï–†–®–ï–ù–û**

### üìä **–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏:**

1. **‚úÖ –ü–ª–∞–≥–∏–Ω BFCalc Live Rates —Å–æ–∑–¥–∞–Ω –∏ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω**
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞–≤–æ–∫ —Ä–∞–∑ –≤ –¥–µ–Ω—å
   - –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ WordPress transients (24 —á–∞—Å–∞)
   - REST API —ç–Ω–¥–ø–æ–π–Ω—Ç: `/wp-json/bfcalc/v1/rates`

2. **‚úÖ –ü–∞—Ä—Å–∏–Ω–≥ –¥–∞–Ω–Ω—ã—Ö —Å garantolog.ru —Ä–∞–±–æ—Ç–∞–µ—Ç**
   - –ò—Å—Ç–æ—á–Ω–∏–∫: `https://garantolog.ru/kalkulyator-garantii/`
   - –ù–∞–π–¥–µ–Ω–æ: **10 –±–∞–Ω–∫–æ–≤** —Å –∞–∫—Ç—É–∞–ª—å–Ω—ã–º–∏ —Å—Ç–∞–≤–∫–∞–º–∏
   - –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å—Ç–∞–≤–∫–∞ —É—á–∞—Å—Ç–∏—è: **2%** (–±–ª–∏–∑–∫–æ –∫ –∏—Å–∫–æ–º–æ–π 1,76%)

3. **‚úÖ –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –æ–±–Ω–æ–≤–ª–µ–Ω —Å live-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π**
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö —Å—Ç–∞–≤–æ–∫
   - –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä —Å—Ç–∞—Ç—É—Å–∞ (–∑–µ–ª–µ–Ω–∞—è/–∂–µ–ª—Ç–∞—è —Ç–æ—á–∫–∞)
   - Fallback –Ω–∞ –ª–æ–∫–∞–ª—å–Ω—É—é –º–∞—Ç—Ä–∏—Ü—É –ø—Ä–∏ —Å–±–æ—è—Ö
   - –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ (24 —á–∞—Å–∞)

### üîó **API Endpoints:**

- **–°—Ä–µ–¥–Ω–∏–µ —Å—Ç–∞–≤–∫–∏**: `https://bizfin-pro.ru/wp-json/bfcalc/v1/rates?scheme=avg`
- **–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Å—Ç–∞–≤–∫–∏**: `https://bizfin-pro.ru/wp-json/bfcalc/v1/rates?scheme=min`
- **–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–µ —Å—Ç–∞–≤–∫–∏**: `https://bizfin-pro.ru/wp-json/bfcalc/v1/rates?scheme=max`

### üìà **–¢–µ–∫—É—â–∏–µ —Å—Ç–∞–≤–∫–∏ (–º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ):**

```json
{
  "44fz": {
    "participation": 2.0%,    // –£—á–∞—Å—Ç–∏–µ –≤ —Ç–æ—Ä–≥–∞—Ö
    "performance": 1.8%,      // –ò—Å–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞
    "warranty": 2.0%,         // –ì–∞—Ä–∞–Ω—Ç–∏–π–Ω—ã–µ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞
    "advance": 1.8%           // –í–æ–∑–≤—Ä–∞—Ç –∞–≤–∞–Ω—Å–∞
  },
  "223fz": {
    "participation": 2.5%,
    "performance": 2.2%,
    "warranty": 2.2%,
    "advance": 2.1%
  },
  "185fz": {
    "participation": 3.0%,
    "performance": 2.6%,
    "warranty": 2.8%,
    "advance": 2.5%
  },
  "comm": {
    "participation": 3.2%,
    "performance": 3.0%,
    "warranty": 3.5%,
    "advance": 2.8%
  }
}
```

### üè¶ **–ù–∞–π–¥–µ–Ω–Ω—ã–µ –±–∞–Ω–∫–∏:**

1. **–ê–ö –ë–∞—Ä—Å –ë–∞–Ω–∫** - 2.4% —É—á–∞—Å—Ç–∏–µ
2. **–ú–µ—Ç–∫–æ–º–±–∞–Ω–∫** - 2.5% —É—á–∞—Å—Ç–∏–µ  
3. **–ú–æ—Å–∫–æ–º–±–∞–Ω–∫** - 2.5% —É—á–∞—Å—Ç–∏–µ
4. **–°–±–µ—Ä–±–∞–Ω–∫** - 2.8% —É—á–∞—Å—Ç–∏–µ
5. **–ò –¥—Ä—É–≥–∏–µ** - –≤—Å–µ–≥–æ 10 –±–∞–Ω–∫–æ–≤

### üõ† **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏:**

#### **Backend (WordPress Plugin):**
- **–§–∞–π–ª**: `/wp-content/plugins/bfcalc-live-rates/bfcalc-live-rates.php`
- **Cron –∑–∞–¥–∞—á–∞**: `bfcalc_fetch_rates_daily` (–µ–∂–µ–¥–Ω–µ–≤–Ω–æ)
- **–ö–µ—à**: WordPress transients (24 —á–∞—Å–∞)
- **–ü–∞—Ä—Å–∏–Ω–≥**: HTML + JSON –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ

#### **Frontend (–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä):**
- **–§–∞–π–ª**: `bfcalc-updated.html` (–≥–æ—Ç–æ–≤ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –≤ Elementor)
- **JavaScript**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ live-—Å—Ç–∞–≤–æ–∫
- **–ö–µ—à**: localStorage (24 —á–∞—Å–∞)
- **Fallback**: –õ–æ–∫–∞–ª—å–Ω–∞—è –º–∞—Ç—Ä–∏—Ü–∞ –ø—Ä–∏ —Å–±–æ—è—Ö

### üß™ **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**

#### **–ü—Ä–æ–π–¥–µ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã:**
- ‚úÖ –ü–ª–∞–≥–∏–Ω –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ Cron –∑–∞–¥–∞—á–∞ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞
- ‚úÖ –ü–∞—Ä—Å–∏–Ω–≥ –¥–∞–Ω–Ω—ã—Ö —Å garantolog.ru
- ‚úÖ REST API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- ‚úÖ –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ Fallback –¥–∞–Ω–Ω—ã–µ –∞–∫—Ç—É–∞–ª—å–Ω—ã

#### **–¢–µ—Å—Ç–æ–≤—ã–µ —Å–∫—Ä–∏–ø—Ç—ã:**
- `test-plugin.php` - –±—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–ª–∞–≥–∏–Ω–∞
- `test-garantolog-parser.php` - –∞–Ω–∞–ª–∏–∑ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –¥–∞–Ω–Ω—ã—Ö
- `test-bfcalc-live-rates.php` - –ø–æ–ª–Ω—ã–µ E2E —Ç–µ—Å—Ç—ã
- `test-calculator.html` - —Ç–µ—Å—Ç –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞

### üìã **–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –≤–Ω–µ–¥—Ä–µ–Ω–∏—é:**

1. **–ö–æ–¥ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –≤ Elementor HTML –≤–∏–¥–∂–µ—Ç:**
   ```html
   <!-- –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞ bfcalc-updated.html -->
   ```

2. **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã:**
   - –û—Ç–∫—Ä—ã—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–æ–º
   - –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∑–µ–ª–µ–Ω—É—é —Ç–æ—á–∫—É
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
   - –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–∞—Å—á–µ—Ç—ã —Å —Ä–∞–∑–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏

3. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:**
   - –ü—Ä–æ–≤–µ—Ä—è—Ç—å –ª–æ–≥–∏ WordPress –Ω–∞ –æ—à–∏–±–∫–∏ –ø–∞—Ä—Å–∏–Ω–≥–∞
   - –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å garantolog.ru
   - –°–ª–µ–¥–∏—Ç—å –∑–∞ –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—å—é —Å—Ç–∞–≤–æ–∫

### üéØ **–î–æ—Å—Ç–∏–≥–Ω—É—Ç—ã–µ —Ü–µ–ª–∏:**

- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ** —Å—Ç–∞–≤–æ–∫ —Ä–∞–∑ –≤ –¥–µ–Ω—å
- ‚úÖ **–ê–∫—Ç—É–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ** —Å garantolog.ru (10 –±–∞–Ω–∫–æ–≤)
- ‚úÖ **–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å—Ç–∞–≤–∫–∞** 2% (–±–ª–∏–∑–∫–æ –∫ –∏—Å–∫–æ–º–æ–π 1,76%)
- ‚úÖ **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å** —Å fallback –º–µ—Ö–∞–Ω–∏–∑–º–æ–º
- ‚úÖ **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** —Å –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º
- ‚úÖ **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç** —Å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–º —Å—Ç–∞—Ç—É—Å–∞

### üîÑ **–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:**

1. **–í–Ω–µ–¥—Ä–∏—Ç—å –∫–æ–¥** –≤ Elementor HTML –≤–∏–¥–∂–µ—Ç
2. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å** –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ
3. **–ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å** —Ä–∞–±–æ—Ç—É –≤ —Ç–µ—á–µ–Ω–∏–µ –Ω–µ–¥–µ–ª–∏
4. **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å** –ø–∞—Ä—Å–∏–Ω–≥ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

---

**–î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è**: 18.10.2025  
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –≤–Ω–µ–¥—Ä–µ–Ω–∏—é  
**–ö–∞—á–µ—Å—Ç–≤–æ**: üèÜ –í—ã—Å–æ–∫–æ–µ (–≤—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ–π–¥–µ–Ω—ã)
